while ([esi]) {
    if (al === 0)
        break;
    
    ++esi;
    ++ecx;
}

while (lodsb()) {
    if (al !== [udi])
        break;

    ++udi;
    ++ucx;
}
